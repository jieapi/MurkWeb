import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{r as v,a as O,l as ee,b as n,R as te,o as g,c as P,d as h,e,w as t,f as o,v as ae,i as M,t as s,q as D}from"./index-9e8be50b.js";const le={class:"recharge-records"},ne={class:"card-header"},oe={class:"pagination-container"},de={key:1},re={__name:"BalanceRecords",setup(se){const y=v(!1),I=v(!1),A=v(0),d=O({merchantOrderId:"",systemOrderId:"",amount:0,paymentMethod:"",status:"",createdAt:"",completedAt:"",remark:"",qqInfo:"",receiptImage:""}),c=O({paymentMethod:"",status:"",dateRange:[]}),u=O({currentPage:1,pageSize:20}),S=v([]),q=[{id:1,merchantOrderId:"M202401150001",systemOrderId:"S202401150001",amount:1e3,paymentMethod:"alipay",status:"paid",createdAt:"2024-01-15 10:30:25",completedAt:"2024-01-15 10:31:05",remark:"支付宝在线充值"},{id:2,merchantOrderId:"M202401140001",systemOrderId:"S202401140001",amount:500,paymentMethod:"wechat",status:"paid",createdAt:"2024-01-14 11:20:15",completedAt:"2024-01-14 11:20:45",remark:"微信支付充值"},{id:3,merchantOrderId:"M202401130001",systemOrderId:"S202401130001",amount:2e3,paymentMethod:"admin",status:"paid",createdAt:"2024-01-13 14:15:30",completedAt:"2024-01-13 14:15:30",remark:"管理员后台充值"},{id:4,merchantOrderId:"M202401120001",systemOrderId:"S202401120001",amount:200,paymentMethod:"wechat",status:"unpaid",createdAt:"2024-01-12 16:45:30",completedAt:null,remark:"微信支付充值，未完成支付"},{id:5,merchantOrderId:"M202401110001",systemOrderId:"S202401110001",amount:300,paymentMethod:"alipay",status:"paid",createdAt:"2024-01-11 13:20:45",completedAt:"2024-01-11 13:21:15",remark:"支付宝在线充值"},{id:6,merchantOrderId:"M202401100001",systemOrderId:"S202401100001",amount:1500,paymentMethod:"admin",status:"paid",createdAt:"2024-01-10 09:15:30",completedAt:"2024-01-10 09:15:30",remark:"管理员手动充值"},{id:7,merchantOrderId:"M202401090001",systemOrderId:"S202401090001",amount:800,paymentMethod:"qq",status:"unpaid",createdAt:"2024-01-09 16:20:10",completedAt:null,remark:"QQ支付充值，等待处理",qqInfo:"QQ号: 123456789",receiptImage:"https://example.com/receipt.jpg"}],_=()=>{y.value=!0,setTimeout(()=>{S.value=q,A.value=q.length,y.value=!1},500)},B=()=>{u.currentPage=1,_()},T=()=>{Object.assign(c,{paymentMethod:"",status:"",dateRange:[]}),u.currentPage=1,_()},U=()=>{_()},j=r=>{Object.assign(d,r),I.value=!0},L=r=>{u.pageSize=r,_()},N=r=>{u.currentPage=r,_()},Y=r=>({admin:"danger",alipay:"primary",wechat:"success",qq:"warning"})[r]||"",V=r=>({admin:"后台充值",alipay:"支付宝",wechat:"微信支付",qq:"QQ支付"})[r]||r,x=r=>({paid:"success",unpaid:"warning"})[r]||"",R=r=>({paid:"已支付",unpaid:"未支付"})[r]||r;return ee(()=>{_()}),(r,a)=>{const m=n("el-option"),C=n("el-select"),f=n("el-form-item"),E=n("el-date-picker"),F=n("Search"),w=n("el-icon"),b=n("el-button"),z=n("Refresh"),$=n("el-form"),Q=n("el-card"),p=n("el-table-column"),k=n("el-tag"),G=n("el-table"),H=n("el-pagination"),i=n("el-descriptions-item"),J=n("el-image"),K=n("el-descriptions"),W=n("el-dialog"),X=te("loading");return g(),P("div",le,[a[11]||(a[11]=h("h1",{class:"page-title"},"充值记录",-1)),e(Q,{class:"search-card"},{default:t(()=>[e($,{model:c,inline:""},{default:t(()=>[e(f,{label:"充值方式"},{default:t(()=>[e(C,{modelValue:c.paymentMethod,"onUpdate:modelValue":a[0]||(a[0]=l=>c.paymentMethod=l),placeholder:"全部充值方式",clearable:"",style:{width:"120px"}},{default:t(()=>[e(m,{label:"全部充值方式",value:""}),e(m,{label:"后台充值",value:"admin"}),e(m,{label:"支付宝",value:"alipay"}),e(m,{label:"微信支付",value:"wechat"}),e(m,{label:"QQ支付",value:"qq"})]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"状态"},{default:t(()=>[e(C,{modelValue:c.status,"onUpdate:modelValue":a[1]||(a[1]=l=>c.status=l),placeholder:"全部状态",clearable:"",style:{width:"120px"}},{default:t(()=>[e(m,{label:"全部状态",value:""}),e(m,{label:"已支付",value:"paid"}),e(m,{label:"未支付",value:"unpaid"})]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"充值时间"},{default:t(()=>[e(E,{modelValue:c.dateRange,"onUpdate:modelValue":a[2]||(a[2]=l=>c.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(f,null,{default:t(()=>[e(b,{type:"primary",onClick:B,loading:y.value},{default:t(()=>[e(w,null,{default:t(()=>[e(F)]),_:1}),a[6]||(a[6]=o(" 搜索 ",-1))]),_:1,__:[6]},8,["loading"]),e(b,{onClick:T},{default:t(()=>[e(w,null,{default:t(()=>[e(z)]),_:1}),a[7]||(a[7]=o(" 重置 ",-1))]),_:1,__:[7]})]),_:1})]),_:1},8,["model"])]),_:1}),e(Q,null,{header:t(()=>[h("div",ne,[a[9]||(a[9]=h("span",null,"我的充值记录",-1)),h("div",null,[e(b,{type:"primary",size:"small",onClick:U},{default:t(()=>[e(w,null,{default:t(()=>[e(z)]),_:1}),a[8]||(a[8]=o(" 刷新 ",-1))]),_:1,__:[8]})])])]),default:t(()=>[ae((g(),M(G,{data:S.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(p,{prop:"id",label:"ID",width:"80"}),e(p,{prop:"merchantOrderId",label:"商户订单号",width:"160"}),e(p,{prop:"systemOrderId",label:"系统订单号",width:"160"}),e(p,{prop:"amount",label:"充值金额",width:"120"},{default:t(({row:l})=>[o(s(l.amount)+" 元 ",1)]),_:1}),e(p,{prop:"paymentMethod",label:"充值方式",width:"120"},{default:t(({row:l})=>[e(k,{type:Y(l.paymentMethod)},{default:t(()=>[o(s(V(l.paymentMethod)),1)]),_:2},1032,["type"])]),_:1}),e(p,{prop:"status",label:"状态",width:"100"},{default:t(({row:l})=>[e(k,{type:x(l.status)},{default:t(()=>[o(s(R(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(p,{prop:"createdAt",label:"创建时间",width:"160"}),e(p,{prop:"completedAt",label:"完成时间",width:"160"},{default:t(({row:l})=>[o(s(l.completedAt||"-"),1)]),_:1}),e(p,{prop:"remark",label:"备注","min-width":"200"}),e(p,{label:"操作",width:"120",fixed:"right"},{default:t(({row:l})=>[e(b,{type:"text",size:"small",onClick:pe=>j(l),style:{color:"#409eff"}},{default:t(()=>a[10]||(a[10]=[o(" 查看详情 ",-1)])),_:2,__:[10]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[X,y.value]]),h("div",oe,[e(H,{"current-page":u.currentPage,"onUpdate:currentPage":a[3]||(a[3]=l=>u.currentPage=l),"page-size":u.pageSize,"onUpdate:pageSize":a[4]||(a[4]=l=>u.pageSize=l),"page-sizes":[10,20,50,100],total:A.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:L,onCurrentChange:N},null,8,["current-page","page-size","total"])])]),_:1}),e(W,{modelValue:I.value,"onUpdate:modelValue":a[5]||(a[5]=l=>I.value=l),title:"充值详情",width:"500px"},{default:t(()=>[e(K,{column:1,border:""},{default:t(()=>[e(i,{label:"商户订单号"},{default:t(()=>[o(s(d.merchantOrderId),1)]),_:1}),e(i,{label:"系统订单号"},{default:t(()=>[o(s(d.systemOrderId),1)]),_:1}),e(i,{label:"充值金额"},{default:t(()=>[o(s(d.amount)+" 元",1)]),_:1}),e(i,{label:"充值方式"},{default:t(()=>[o(s(V(d.paymentMethod)),1)]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(k,{type:x(d.status)},{default:t(()=>[o(s(R(d.status)),1)]),_:1},8,["type"])]),_:1}),e(i,{label:"创建时间"},{default:t(()=>[o(s(d.createdAt),1)]),_:1}),e(i,{label:"完成时间"},{default:t(()=>[o(s(d.completedAt||"-"),1)]),_:1}),e(i,{label:"备注"},{default:t(()=>[o(s(d.remark||"-"),1)]),_:1}),d.paymentMethod==="qq"?(g(),M(i,{key:0,label:"QQ信息"},{default:t(()=>[o(s(d.qqInfo||"-"),1)]),_:1})):D("",!0),d.paymentMethod==="qq"?(g(),M(i,{key:1,label:"支付凭证"},{default:t(()=>[d.receiptImage?(g(),M(J,{key:0,src:d.receiptImage,style:{"max-width":"100%","max-height":"200px"},"preview-src-list":[d.receiptImage]},null,8,["src","preview-src-list"])):(g(),P("span",de,"无"))]),_:1})):D("",!0)]),_:1})]),_:1},8,["modelValue"])])}}},ue=Z(re,[["__scopeId","data-v-227aa537"]]);export{ue as default};
