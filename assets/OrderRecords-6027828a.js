import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{r as b,a as T,l as Z,b as r,K as ee,o as S,c as te,d as g,e,w as t,f as o,v as ae,i as le,t as d,E as oe}from"./index-d670e9de.js";const re={class:"order-management"},ne={class:"card-header"},de={class:"pagination-container"},se={class:"dialog-footer"},ue={__name:"OrderRecords",setup(pe){const v=b(!1);b(!1);const A=b(!1),h=b(0),s=T({orderNo:"",username:"",orderType:"",productName:"",amount:0,status:"",refundAmount:0,createdAt:"",completedAt:"",remark:""}),u=T({orderNo:"",orderType:"",status:"",dateRange:[]}),m=T({currentPage:1,pageSize:20}),V=b([]),w=[{orderNo:"ORD202401150001",username:"user001",orderType:"product",productName:"murkphp加密服务-标准版",amount:299,status:"completed",refundAmount:50,createdAt:"2024-01-15 10:30:25",completedAt:"2024-01-15 10:31:05",remark:"部分退款50元"},{orderNo:"ORD202401150002",username:"user002",orderType:"encrypt",productName:"PHP文件加密服务",amount:199,status:"prepaid",refundAmount:0,createdAt:"2024-01-15 11:20:15",completedAt:null,remark:"预付费订单"},{orderNo:"ORD202401150003",username:"agent001",orderType:"encrypt",productName:"JavaScript加密服务",amount:500,status:"completed",refundAmount:100,createdAt:"2024-01-15 14:15:30",completedAt:"2024-01-15 14:16:05",remark:"服务问题退款100元"},{orderNo:"ORD202401140001",username:"user003",orderType:"product",productName:"murkphp加密服务-基础版",amount:199,status:"prepaid",refundAmount:0,createdAt:"2024-01-14 16:45:30",completedAt:null,remark:"预付费订单"},{orderNo:"ORD202401140002",username:"user001",orderType:"product",productName:"murkphp加密服务-高级版",amount:599,status:"refunded",refundAmount:599,createdAt:"2024-01-14 09:15:10",completedAt:"2024-01-14 09:16:00",remark:"客户要求全额退款"},{orderNo:"ORD202401130001",username:"user004",orderType:"encrypt",productName:"批量文件加密服务",amount:999,status:"completed",refundAmount:200,createdAt:"2024-01-13 13:20:45",completedAt:"2024-01-13 14:30:00",remark:"批量加密服务已完成，部分退款200元"}],_=()=>{v.value=!0,setTimeout(()=>{V.value=w,h.value=w.length,v.value=!1},500)},M=()=>{m.currentPage=1,_()},P=()=>{Object.assign(u,{orderNo:"",orderType:"",status:"",dateRange:[]}),m.currentPage=1,_()},U=()=>{_()},B=()=>{oe.success("订单数据导出成功")},L=n=>{Object.assign(s,n),A.value=!0},Y=n=>{m.pageSize=n,_()},j=n=>{m.currentPage=n,_()},E=n=>({product:"primary",encrypt:"success"})[n]||"",O=n=>({product:"购买产品",encrypt:"加密服务"})[n]||n,R=n=>({prepaid:"warning",refunded:"danger",completed:"success"})[n]||"",D=n=>({prepaid:"预付费",refunded:"已退款",completed:"已完成"})[n]||n;return Z(()=>{_()}),(n,a)=>{const $=r("el-input"),y=r("el-form-item"),i=r("el-option"),C=r("el-select"),F=r("el-date-picker"),H=r("Search"),N=r("el-icon"),f=r("el-button"),x=r("Refresh"),I=r("el-form"),z=r("el-card"),J=r("Download"),p=r("el-table-column"),k=r("el-tag"),K=r("el-table"),q=r("el-pagination"),c=r("el-descriptions-item"),G=r("el-descriptions"),Q=r("el-dialog"),W=ee("loading");return S(),te("div",re,[a[15]||(a[15]=g("h1",{class:"page-title"},"订单管理",-1)),e(z,{class:"search-card"},{default:t(()=>[e(I,{model:u,inline:""},{default:t(()=>[e(y,{label:"订单号"},{default:t(()=>[e($,{modelValue:u.orderNo,"onUpdate:modelValue":a[0]||(a[0]=l=>u.orderNo=l),placeholder:"请输入订单号",style:{width:"200px"},clearable:""},null,8,["modelValue"])]),_:1}),e(y,{label:"订单类型"},{default:t(()=>[e(C,{modelValue:u.orderType,"onUpdate:modelValue":a[1]||(a[1]=l=>u.orderType=l),placeholder:"全部订单类型",clearable:"",style:{width:"140px"}},{default:t(()=>[e(i,{label:"全部订单类型",value:""}),e(i,{label:"购买产品",value:"product"}),e(i,{label:"加密服务",value:"encrypt"})]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"订单状态"},{default:t(()=>[e(C,{modelValue:u.status,"onUpdate:modelValue":a[2]||(a[2]=l=>u.status=l),placeholder:"全部状态",clearable:"",style:{width:"120px"}},{default:t(()=>[e(i,{label:"全部状态",value:""}),e(i,{label:"预付费",value:"prepaid"}),e(i,{label:"已退款",value:"refunded"}),e(i,{label:"已完成",value:"completed"})]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"下单时间"},{default:t(()=>[e(F,{modelValue:u.dateRange,"onUpdate:modelValue":a[3]||(a[3]=l=>u.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(y,null,{default:t(()=>[e(f,{type:"primary",onClick:M,loading:v.value},{default:t(()=>[e(N,null,{default:t(()=>[e(H)]),_:1}),a[8]||(a[8]=o(" 搜索 ",-1))]),_:1,__:[8]},8,["loading"]),e(f,{onClick:P},{default:t(()=>[e(N,null,{default:t(()=>[e(x)]),_:1}),a[9]||(a[9]=o(" 重置 ",-1))]),_:1,__:[9]})]),_:1})]),_:1},8,["model"])]),_:1}),e(z,null,{header:t(()=>[g("div",ne,[a[12]||(a[12]=g("span",null,"订单列表",-1)),g("div",null,[e(f,{type:"primary",size:"small",onClick:U},{default:t(()=>[e(N,null,{default:t(()=>[e(x)]),_:1}),a[10]||(a[10]=o(" 刷新 ",-1))]),_:1,__:[10]}),e(f,{type:"success",size:"small",onClick:B},{default:t(()=>[e(N,null,{default:t(()=>[e(J)]),_:1}),a[11]||(a[11]=o(" 导出数据 ",-1))]),_:1,__:[11]})])])]),default:t(()=>[ae((S(),le(K,{data:V.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(p,{prop:"orderNo",label:"订单号",width:"180"}),e(p,{prop:"productName",label:"订单备注",width:"200"}),e(p,{prop:"orderType",label:"订单类型",width:"120"},{default:t(({row:l})=>[e(k,{type:E(l.orderType)},{default:t(()=>[o(d(O(l.orderType)),1)]),_:2},1032,["type"])]),_:1}),e(p,{prop:"amount",label:"订单金额",width:"120"},{default:t(({row:l})=>[o(d(l.amount)+" 元 ",1)]),_:1}),e(p,{prop:"refundAmount",label:"已退金额",width:"120"},{default:t(({row:l})=>[o(d(l.refundAmount||0)+" 元 ",1)]),_:1}),e(p,{prop:"status",label:"订单状态",width:"100"},{default:t(({row:l})=>[e(k,{type:R(l.status)},{default:t(()=>[o(d(D(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(p,{prop:"createdAt",label:"创建时间",width:"160"}),e(p,{prop:"completedAt",label:"完成时间",width:"160"},{default:t(({row:l})=>[o(d(l.completedAt||"-"),1)]),_:1}),e(p,{label:"操作",width:"100",fixed:"right"},{default:t(({row:l})=>[e(f,{type:"text",size:"small",onClick:ce=>L(l),style:{color:"#67c23a"}},{default:t(()=>a[13]||(a[13]=[o(" 查看 ",-1)])),_:2,__:[13]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[W,v.value]]),g("div",de,[e(q,{"current-page":m.currentPage,"onUpdate:currentPage":a[4]||(a[4]=l=>m.currentPage=l),"page-size":m.pageSize,"onUpdate:pageSize":a[5]||(a[5]=l=>m.pageSize=l),"page-sizes":[10,20,50,100],total:h.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Y,onCurrentChange:j},null,8,["current-page","page-size","total"])])]),_:1}),e(Q,{modelValue:A.value,"onUpdate:modelValue":a[7]||(a[7]=l=>A.value=l),title:"订单详情",width:"600px"},{footer:t(()=>[g("span",se,[e(f,{onClick:a[6]||(a[6]=l=>A.value=!1)},{default:t(()=>a[14]||(a[14]=[o("关闭",-1)])),_:1,__:[14]})])]),default:t(()=>[e(G,{column:1,border:""},{default:t(()=>[e(c,{label:"订单号"},{default:t(()=>[o(d(s.orderNo),1)]),_:1}),e(c,{label:"订单类型"},{default:t(()=>[o(d(O(s.orderType)),1)]),_:1}),e(c,{label:"订单金额"},{default:t(()=>[o(d(s.amount)+" 元",1)]),_:1}),e(c,{label:"已退金额"},{default:t(()=>[o(d(s.refundAmount||0)+" 元",1)]),_:1}),e(c,{label:"订单状态"},{default:t(()=>[e(k,{type:R(s.status)},{default:t(()=>[o(d(D(s.status)),1)]),_:1},8,["type"])]),_:1}),e(c,{label:"创建时间"},{default:t(()=>[o(d(s.createdAt),1)]),_:1}),e(c,{label:"完成时间"},{default:t(()=>[o(d(s.completedAt||"-"),1)]),_:1}),e(c,{label:"订单备注"},{default:t(()=>[o(d(s.productName),1)]),_:1}),e(c,{label:"备注"},{default:t(()=>[o(d(s.remark||"-"),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},_e=X(ue,[["__scopeId","data-v-f2cd246b"]]);export{_e as default};
