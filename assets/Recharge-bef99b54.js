import{r,a as J,k as Q,j,l as Z,b as c,o as _,c as g,d as t,e as o,w as n,t as h,F as x,h as M,i as G,f as d,n as k,y as K,V as W,E as u,M as X}from"./index-d670e9de.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";const ee={class:"recharge-page"},te={class:"account-text"},le={class:"amount-section"},ae={class:"quick-amounts"},ne={class:"payment-methods"},oe=["onClick"],se=["innerHTML"],ue={class:"payment-name"},re={class:"recharge-agreement"},ce={class:"dialog-footer"},ie={__name:"Recharge",setup(me){const y=r(),l=J({account:"",paymentMethod:"alipay",amount:null}),C={paymentMethod:[{required:!0,message:"请选择支付方式",trigger:"change"}],amount:[{required:!0,message:"请输入充值金额",trigger:"blur"},{type:"number",min:1,max:5e4,message:"充值金额必须在1-50000元之间",trigger:"blur"}]},V=r([{value:"alipay",label:"支付宝"},{value:"wechat",label:"微信支付"},{value:"qq",label:"QQ钱包"}]),F=r([10,50,100,200,500,1e3]),w=r(1),b=r(5e4),f=r(!1),p=r(!1),i=r(!1),B=()=>{const s=localStorage.getItem("recharge_agreement_accepted");s&&(i.value=JSON.parse(s))},S=()=>{localStorage.setItem("recharge_agreement_accepted",JSON.stringify(i.value))};Q(i,s=>{S()});const T=j(()=>l.account&&l.paymentMethod&&l.amount&&l.amount>=w.value&&l.amount<=b.value),q=s=>{l.amount=s},A=s=>{l.paymentMethod=s},$=async()=>{try{if(await y.value.validate(),!i.value){p.value=!0,u.warning("请先阅读并同意充值协议");return}f.value=!0;const s={amount:l.amount,paymentMethod:l.paymentMethod,account:l.account};await new Promise(m=>setTimeout(m,1500));const e=`https://pay.example.com/pay?amount=${l.amount}&method=${l.paymentMethod}&order=${Date.now()}`;u.success("正在跳转到支付页面..."),window.open(e,"_blank"),P()}catch{u.error("获取支付地址失败，请重试")}finally{f.value=!1}},P=()=>{X.confirm('请在新打开的页面完成支付，支付完成后点击"已完成支付"按钮',"支付确认",{confirmButtonText:"已完成支付",cancelButtonText:"取消支付",type:"info",closeOnClickModal:!1,closeOnPressEscape:!1}).then(()=>{H()}).catch(()=>{u.info("支付已取消")})},H=async()=>{try{u.loading("正在确认支付状态..."),await new Promise(e=>setTimeout(e,2e3)),Math.random()>.3?u.success("支付成功！余额已到账"):u.error("支付失败或未完成，请重试")}catch{u.error("检查支付状态失败")}},R=s=>{const e={alipay:'<svg t="1754393043425" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5030" width="20" height="20"><path d="M789 610.3c-38.7-12.9-90.7-32.7-148.5-53.6 34.8-60.3 62.5-129 80.7-203.6H530.5v-68.6h233.6v-38.3H530.5V132h-95.4c-16.7 0-16.7 16.5-16.7 16.5v97.8H182.2v38.3h236.3v68.6H223.4v38.3h378.4c-13.8 47.6-32.4 92.3-54.5 132.9-122.8-40.4-253.8-73.2-336.1-53-52.6 13-86.5 36.1-106.5 60.3-91.4 111-25.9 279.6 167.2 279.6C386 811.2 496 747.6 581.2 643 708.3 704 960 808.7 960 808.7V659.4s-31.6-2.5-171-49.1zM253.9 746.6c-150.5 0-195-118.3-120.6-183.1 24.8-21.9 70.2-32.6 94.4-35 89.4-8.8 172.2 25.2 269.9 72.8-68.8 89.5-156.3 145.3-243.7 145.3z" p-id="5031" fill="#1296db"></path></svg>',wechat:'<svg t="1754393123382" class="icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7052" width="20" height="20"><path d="M373.029 631.954c-4.389 2.926-10.24 4.389-16.092 4.389-13.166 0-23.406-7.314-29.257-17.554l-2.926-4.389-93.623-204.8c-1.462-2.926-1.462-4.389-1.462-7.314 0-8.777 7.314-17.555 17.554-17.555 4.388 0 7.314 1.463 10.24 2.926l109.714 78.994c7.314 5.852 17.554 8.778 27.794 8.778 5.852 0 11.703-1.463 17.555-2.926L930.377 241.37C836.754 131.657 684.617 59.977 512 59.977c-282.331 0-512 191.634-512 427.154C0 615.863 68.754 731.43 177.006 808.96c8.777 5.851 14.628 16.091 14.628 27.794 0 4.389-1.463 7.315-1.463 10.24-8.777 32.183-21.942 83.383-23.405 86.309-1.463 4.388-2.926 8.777-2.926 13.166 0 8.777 7.314 17.554 17.554 17.554 4.389 0 7.315-1.463 10.24-2.926l112.64-64.366c8.777-4.388 17.555-7.314 27.795-7.314 5.851 0 10.24 1.463 14.628 2.926 52.663 14.628 108.252 23.406 166.766 23.406 282.331 0 512-191.635 512-427.155 0-71.68-20.48-138.971-58.514-197.485l-590.995 337.92-2.925 2.925z" fill="#52CC66" p-id="7053"></path></svg>',qq:'<svg t="1754393152436" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8063" width="20" height="20"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#12B8F6" p-id="8064"></path><path d="M626.56 810.666667c-7.893333 0-16.170667-0.768-24.021333-1.962667a119.637333 119.637333 0 0 1-76.032-40.064c-10.24 3.925333-21.248 3.925333-31.488 0-16.170667 21.205333-46.506667 36.138667-81.92 40.064-50.048 5.504-104.405333-8.618667-109.098667-41.6-3.968-25.941333 27.946667-45.952 61.44-56.96a163.370667 163.370667 0 0 1-38.613333-76.16l-0.426667 0.384c-18.858667 23.552-31.488 37.674667-46.08 37.674667a19.029333 19.029333 0 0 1-4.693333-0.768c-5.546667-1.962667-9.813333-6.656-12.970667-14.122667-12.245333-25.941333-7.125333-75.392 11.392-113.066667 0 0 0-0.426667 0.426667-0.426666 9.386667-16.896 20.821333-32.597333 34.218666-46.72a77.568 77.568 0 0 1-9.045333-27.861334v-2.389333c0.426667-14.506667 7.893333-27.861333 20.053333-35.712a189.013333 189.013333 0 0 1 44.16-152.746667 185.429333 185.429333 0 0 1 146.901334-64.768h3.541333c49.237333 0 97.706667 19.626667 133.546667 54.186667a192.256 192.256 0 0 1 58.666666 135.850667v5.504c0.426667 7.466667 0 14.506667-0.810666 21.973333 10.666667 6.656 16.170667 15.317333 16.170666 36.138667 0 10.197333-0.810667 20.778667-7.509333 27.093333 9.856 13.354667 21.674667 32.170667 31.146667 47.104l1.962666 3.157333c15.36 24.32 17.706667 55.722667 17.322667 72.234667 0 12.928-1.578667 43.946667-13.781333 52.992a14.506667 14.506667 0 0 1-9.045334 2.773333h-3.157333c-19.712 0-31.146667-17.664-43.733333-36.522666l-1.194667-1.578667a177.536 177.536 0 0 1-38.186667 74.624c20.48 7.04 62.634667 23.552 57.088 54.954667-4.309333 26.666667-42.112 46.72-86.229333 46.72" fill="#FFFFFF" p-id="8065"></path></svg>'};return e[s]||e.alipay},z=()=>{i.value=!0,p.value=!1,u.success("已同意充值协议")};return Z(()=>{l.account="user@example.com",B()}),(s,e)=>{const m=c("el-form-item"),v=c("el-button"),D=c("el-input"),E=c("el-checkbox"),N=c("el-icon"),I=c("el-form"),L=c("el-card"),O=c("el-dialog");return _(),g("div",ee,[e[13]||(e[13]=t("h1",{class:"page-title"},"账户充值",-1)),o(L,{class:"recharge-card"},{header:n(()=>e[5]||(e[5]=[t("div",{class:"card-header"},[t("span",null,"充值信息")],-1)])),default:n(()=>[o(I,{model:l,rules:C,ref_key:"rechargeFormRef",ref:y,"label-width":"100px"},{default:n(()=>[o(m,{label:"充值账号"},{default:n(()=>[t("span",te,h(l.account),1)]),_:1}),o(m,{label:"充值金额",prop:"amount"},{default:n(()=>[t("div",le,[t("div",ae,[(_(!0),g(x,null,M(F.value,a=>(_(),G(v,{key:a,type:l.amount===a?"primary":"default",onClick:U=>q(a),class:"amount-btn"},{default:n(()=>[d(" ¥"+h(a),1)]),_:2},1032,["type","onClick"]))),128))]),o(D,{modelValue:l.amount,"onUpdate:modelValue":e[0]||(e[0]=a=>l.amount=a),modelModifiers:{number:!0},placeholder:"请输入充值金额",type:"number",min:w.value,max:b.value,class:"amount-input",style:{width:"200px"}},{append:n(()=>e[6]||(e[6]=[d("元",-1)])),_:1},8,["modelValue","min","max"])])]),_:1}),o(m,{label:"支付方式",prop:"paymentMethod"},{default:n(()=>[t("div",ne,[(_(!0),g(x,null,M(V.value,a=>(_(),g("div",{key:a.value,onClick:U=>A(a.value),class:k(["payment-card",{active:l.paymentMethod===a.value}])},[t("div",{class:k(["payment-icon",`payment-icon-${a.value}`])},[t("div",{innerHTML:R(a.value),class:"payment-svg"},null,8,se)],2),t("div",ue,h(a.label),1)],10,oe))),128))])]),_:1}),o(m,null,{default:n(()=>[t("div",re,[o(E,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),class:"agreement-checkbox"},{default:n(()=>[e[8]||(e[8]=d(" 我已阅读并同意 ",-1)),o(v,{type:"primary",link:"",onClick:e[1]||(e[1]=a=>p.value=!0)},{default:n(()=>e[7]||(e[7]=[d(" 《充值协议》 ",-1)])),_:1,__:[7]})]),_:1,__:[8]},8,["modelValue"])])]),_:1}),o(m,null,{default:n(()=>[o(v,{type:"primary",size:"default",loading:f.value,disabled:!T.value,onClick:$,class:"submit-btn"},{default:n(()=>[o(N,null,{default:n(()=>[o(K(W))]),_:1}),e[9]||(e[9]=d(" 立即充值 ",-1))]),_:1,__:[9]},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1}),o(O,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=a=>p.value=a),title:"充值协议",width:"600px","close-on-click-modal":!1},{footer:n(()=>[t("span",ce,[o(v,{onClick:e[3]||(e[3]=a=>p.value=!1)},{default:n(()=>e[10]||(e[10]=[d("关闭",-1)])),_:1,__:[10]}),o(v,{type:"primary",onClick:z},{default:n(()=>e[11]||(e[11]=[d(" 我已阅读并同意 ",-1)])),_:1,__:[11]})])]),default:n(()=>[e[12]||(e[12]=t("div",{class:"agreement-content"},[t("h3",null,"充值须知"),t("p",null,[t("strong",null,"虚拟商品，不能退款")]),t("ul",null,[t("li",null,"本站销售的为虚拟商品，一经购买概不退款"),t("li",null,"充值前请确认您的账户信息无误"),t("li",null,"如遇充值问题，请及时联系客服处理"),t("li",null,"充值金额将实时到账，请耐心等待"),t("li",null,"充值过程中请勿关闭页面或重复操作")]),t("h3",null,"服务条款"),t("ul",null,[t("li",null,"用户充值的余额仅限在本平台使用"),t("li",null,"平台有权对异常充值行为进行审核"),t("li",null,"用户应遵守平台相关使用规定"),t("li",null,"如发现违规使用，平台有权冻结账户余额")]),t("h3",null,"退款政策"),t("ul",null,[t("li",null,"虚拟商品特性决定，充值后不支持退款"),t("li",null,"如因平台技术问题导致充值失败，将全额退还"),t("li",null,"用户因个人原因申请退款，平台有权拒绝")])],-1))]),_:1,__:[12]},8,["modelValue"])])}}},ve=Y(ie,[["__scopeId","data-v-420e1bf5"]]);export{ve as default};
