import{r as k,j as M,l as j,m as H,b as a,o as d,i as c,w as s,e,d as o,y as r,v as m,J as _,f as h,c as J,h as O,F as W,t as D,z as q,u as G,E as Q,K as X,L as Y,M as Z,N as $,D as ee,O as te,P as se}from"./index-9e8be50b.js";import{S as ne}from"./Sidebar-c5c66792.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";const ae={class:"header-left"},oe={class:"header-right"},le={class:"switch-backend"},de={class:"user-info"},re={class:"user-details"},ce={class:"profile-info"},ue={__name:"AdminLayout",setup(me){const b=q(),w=G(),p=k(!1),l=k(!1),f=k(!1),S=[{index:"/admin/dashboard",title:"仪表盘",icon:"House"},{index:"/admin/users",title:"用户管理",icon:"User",children:[{index:"/admin/users",title:"用户列表",icon:"UserFilled"},{index:"/admin/roles",title:"角色管理",icon:"Avatar"},{index:"/admin/recharge",title:"充值记录",icon:"CreditCard"},{index:"/admin/orders",title:"订单管理",icon:"ShoppingCart"}]},{index:"/admin/scripts",title:"脚本系统",icon:"Document",children:[{index:"/admin/scripts",title:"脚本管理",icon:"Document"},{index:"/admin/tokens",title:"Token管理",icon:"Key"},{index:"/admin/api-logs",title:"加密日志",icon:"List"}]},{index:"/admin/settings",title:"网站管理",icon:"Monitor",children:[{index:"/admin/settings",title:"网站设置",icon:"Setting"},{index:"/admin/announcements",title:"公告管理",icon:"Bell"},{index:"/admin/website-logs",title:"网站日志",icon:"Document"}]}],T=M(()=>{var u;const n=b.path,t=(u=b.meta)==null?void 0:u.title;if(!t)return[];const i=[];return n.includes("/admin/users")||n.includes("/admin/roles")||n.includes("/admin/recharge")||n.includes("/admin/orders")?(i.push({path:"/admin/users",title:"用户管理"}),t!=="用户管理"&&i.push({path:n,title:t})):n.includes("/admin/scripts")||n.includes("/admin/tokens")||n.includes("/admin/api-logs")?(i.push({path:"/admin/scripts",title:"脚本系统"}),t!=="脚本系统"&&i.push({path:n,title:t})):n.includes("/admin/settings")||n.includes("/admin/website-logs")?(i.push({path:"/admin/settings",title:"网站管理"}),t!=="网站管理"&&i.push({path:n,title:t})):i.push({path:n,title:t}),i}),z=M(()=>{const n=b.matched.filter(t=>t.meta&&t.meta.title);return n.length>0?n[n.length-1].meta.title:"murkphp加密系统"}),g=()=>{l.value=window.innerWidth<768},B=()=>{l.value?f.value=!f.value:p.value=!p.value},E=()=>{w.push("/user")},U=()=>{w.push("/user/profile")},V=()=>{Q.success("退出登录成功"),w.push("/login")};return j(()=>{g(),window.addEventListener("resize",g)}),H(()=>{window.removeEventListener("resize",g)}),(n,t)=>{const i=a("el-icon"),u=a("el-button"),y=a("el-breadcrumb-item"),A=a("el-breadcrumb"),I=a("el-tooltip"),C=a("el-avatar"),x=a("el-dropdown-item"),N=a("el-dropdown-menu"),P=a("el-dropdown"),F=a("el-header"),K=a("router-view"),R=a("el-main"),L=a("el-container");return d(),c(L,{class:"layout-container"},{default:s(()=>[e(ne,{"is-collapse":p.value,"is-mobile":l.value,"drawer-visible":f.value,"onUpdate:drawerVisible":t[0]||(t[0]=v=>f.value=v),"is-admin":!0,"menu-items":S},null,8,["is-collapse","is-mobile","drawer-visible"]),e(L,null,{default:s(()=>[e(F,{class:"header"},{default:s(()=>[o("div",ae,[e(u,{type:"text",onClick:B,class:"collapse-btn"},{default:s(()=>[l.value?(d(),c(i,{key:0},{default:s(()=>[e(r(X))]),_:1})):(d(),c(i,{key:1},{default:s(()=>[p.value?(d(),c(r(Y),{key:0})):(d(),c(r(Z),{key:1}))]),_:1}))]),_:1}),m(e(A,{separator:"/",class:"breadcrumb"},{default:s(()=>[e(y,{to:{path:"/admin/dashboard"}},{default:s(()=>t[1]||(t[1]=[h("首页",-1)])),_:1,__:[1]}),(d(!0),J(W,null,O(T.value,v=>(d(),c(y,{key:v.path},{default:s(()=>[h(D(v.title),1)]),_:2},1024))),128))]),_:1},512),[[_,!l.value]]),m(o("div",{class:"page-title"},D(z.value),513),[[_,l.value]])]),o("div",oe,[o("div",le,[e(I,{content:"切换到用户后台",placement:"bottom"},{default:s(()=>[e(u,{type:"text",class:"switch-btn",onClick:E},{default:s(()=>[e(i,null,{default:s(()=>[e(r($))]),_:1}),m(o("span",null,"切换后台",512),[[_,!l.value]])]),_:1})]),_:1})]),e(P,{class:"user-dropdown",trigger:"click"},{dropdown:s(()=>[e(N,{class:"user-dropdown-menu"},{default:s(()=>[e(x,{class:"user-profile-item"},{default:s(()=>[o("div",ce,[e(C,{size:40,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),t[3]||(t[3]=o("div",{class:"profile-details"},[o("div",{class:"profile-name"},"管理员"),o("div",{class:"profile-email"},"admin@example.com")],-1))])]),_:1}),e(x,{divided:"",onClick:U},{default:s(()=>[e(i,null,{default:s(()=>[e(r(ee))]),_:1}),t[4]||(t[4]=h(" 个人中心 ",-1))]),_:1,__:[4]}),e(x,{divided:"",onClick:V,class:"logout-item"},{default:s(()=>[e(i,null,{default:s(()=>[e(r(te))]),_:1}),t[5]||(t[5]=h(" 退出登录 ",-1))]),_:1,__:[5]})]),_:1})]),default:s(()=>[o("div",de,[e(C,{size:36,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",class:"user-avatar"}),m(o("div",re,t[2]||(t[2]=[o("div",{class:"username"},"管理员",-1),o("div",{class:"user-role"},"超级管理员",-1)]),512),[[_,!l.value]]),m(e(i,{class:"dropdown-icon"},{default:s(()=>[e(r(se))]),_:1},512),[[_,!l.value]])])]),_:1})])]),_:1}),e(R,{class:"main-content"},{default:s(()=>[e(K)]),_:1})]),_:1})]),_:1})}}},ve=ie(ue,[["__scopeId","data-v-24fe86d8"]]);export{ve as default};
