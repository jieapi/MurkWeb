import{r as v,j as J,l as P,b as d,o as m,c as h,e as l,w as t,d as s,t as n,f as u,n as T,i as y,F as A,h as G,u as j,Q as K}from"./index-8c5ed3cb.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const $={class:"dashboard-container"},H={class:"data-header"},W={class:"data-value"},X={class:"data-footer"},Y={class:"data-header"},Z={class:"data-value"},ee={class:"data-footer"},te={class:"data-header"},se={class:"data-value"},le={class:"data-footer"},ae={class:"data-header"},ne={class:"data-value"},oe={class:"data-footer"},ie={class:"quick-actions"},ce={class:"card-header"},de={class:"activity-user"},re={class:"card-header"},ue={class:"log-message"},me={class:"log-time"},_e={__name:"Dashboard",setup(pe){const f=j(),o=v({userCount:1258,userGrowth:12.5,todayCalls:8562,callsGrowth:-3.2,todayIncome:3256.78,incomeGrowth:8.7,systemStatus:"normal",cpuUsage:32,memoryUsage:45}),M=v([{type:"success",time:"2024-01-15 10:30:25",content:"充值成功 1000 元",user:"用户001"},{type:"warning",time:"2024-01-15 09:45:10",content:"修改了个人信息",user:"用户002"},{type:"info",time:"2024-01-15 09:20:30",content:"生成了新的 API Token",user:"用户003"},{type:"danger",time:"2024-01-15 08:15:45",content:"删除了脚本文件",user:"管理员"},{type:"success",time:"2024-01-14 17:30:00",content:"新用户注册",user:"用户004"}]),b=v([{level:"info",message:"murkphp加密成功 - 文件: test.php",time:"2024-01-15 10:30:25"},{level:"warning",message:"加密文件过大 - 超过10MB限制",time:"2024-01-15 09:45:30"},{level:"error",message:"加密失败 - 文件格式不支持",time:"2024-01-15 09:20:45"},{level:"info",message:"批量加密完成 - 处理5个文件",time:"2024-01-15 08:55:10"},{level:"warning",message:"加密次数接近限制 - 剩余100次",time:"2024-01-15 08:30:20"}]),D=r=>({success:"success",warning:"warning",danger:"danger",info:"info"})[r]||"info",U=r=>({info:"info",warning:"warning",error:"danger",debug:""})[r]||"",g=v([{key:"users",title:"用户管理",icon:"User",type:"primary",route:"/admin/users",clickCount:0,lastClickTime:null},{key:"scripts",title:"脚本管理",icon:"Document",type:"success",route:"/admin/scripts",clickCount:0,lastClickTime:null},{key:"orders",title:"订单管理",icon:"ShoppingCart",type:"warning",route:"/admin/orders",clickCount:0,lastClickTime:null},{key:"settings",title:"系统设置",icon:"Setting",type:"danger",route:"/admin/settings",clickCount:0,lastClickTime:null},{key:"roles",title:"角色管理",icon:"Avatar",type:"info",route:"/admin/roles",clickCount:0,lastClickTime:null},{key:"recharge",title:"充值记录",icon:"CreditCard",type:"default",route:"/admin/recharge",clickCount:0,lastClickTime:null},{key:"tokens",title:"Token管理",icon:"Key",type:"default",route:"/admin/tokens",clickCount:0,lastClickTime:null}]),I=J(()=>{const r=localStorage.getItem("adminQuickActionStats");if(r){const i=JSON.parse(r);g.value.forEach(a=>{i[a.key]&&(a.clickCount=i[a.key].clickCount||0,a.lastClickTime=i[a.key].lastClickTime||null)})}return[...g.value].sort((i,a)=>i.clickCount!==a.clickCount?a.clickCount-i.clickCount:i.lastClickTime&&a.lastClickTime?new Date(a.lastClickTime)-new Date(i.lastClickTime):i.lastClickTime&&!a.lastClickTime?-1:!i.lastClickTime&&a.lastClickTime?1:0).slice(0,4)}),B=r=>["primary","success","warning","danger"][r]||"default",F=r=>{r.clickCount++,r.lastClickTime=new Date().toISOString();const e={};g.value.forEach(i=>{e[i.key]={clickCount:i.clickCount,lastClickTime:i.lastClickTime}}),localStorage.setItem("adminQuickActionStats",JSON.stringify(e)),f.push(r.route)},E=()=>f.push("/admin/website-logs"),N=()=>f.push("/admin/api-logs");return P(()=>{}),(r,e)=>{const i=d("User"),a=d("el-icon"),_=d("el-card"),p=d("el-col"),Q=d("Connection"),L=d("Money"),q=d("Monitor"),k=d("el-tag"),x=d("el-row"),C=d("el-button"),O=d("el-timeline-item"),V=d("el-timeline"),S=d("el-table-column"),z=d("el-table");return m(),h("div",$,[l(x,{gutter:30,class:"data-cards-row"},{default:t(()=>[l(p,{xs:24,sm:12,md:6},{default:t(()=>[l(_,{class:"data-card"},{default:t(()=>[s("div",H,[e[0]||(e[0]=s("div",{class:"data-title"},"总用户数",-1)),l(a,{class:"data-icon",style:{color:"#409EFF"}},{default:t(()=>[l(i)]),_:1})]),s("div",W,n(o.value.userCount),1),s("div",X,[s("span",null,[e[1]||(e[1]=u("较上月 ",-1)),s("span",{class:T(o.value.userGrowth>=0?"up":"down")},n(o.value.userGrowth>=0?"+":"")+n(o.value.userGrowth)+"% ",3)])])]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:6},{default:t(()=>[l(_,{class:"data-card"},{default:t(()=>[s("div",Y,[e[2]||(e[2]=s("div",{class:"data-title"},"加密次数",-1)),l(a,{class:"data-icon",style:{color:"#67C23A"}},{default:t(()=>[l(Q)]),_:1})]),s("div",Z,n(o.value.todayCalls),1),s("div",ee,[s("span",null,[e[3]||(e[3]=u("较昨日 ",-1)),s("span",{class:T(o.value.callsGrowth>=0?"up":"down")},n(o.value.callsGrowth>=0?"+":"")+n(o.value.callsGrowth)+"% ",3)])])]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:6},{default:t(()=>[l(_,{class:"data-card"},{default:t(()=>[s("div",te,[e[4]||(e[4]=s("div",{class:"data-title"},"今日收入",-1)),l(a,{class:"data-icon",style:{color:"#E6A23C"}},{default:t(()=>[l(L)]),_:1})]),s("div",se,"¥"+n(o.value.todayIncome),1),s("div",le,[s("span",null,[e[5]||(e[5]=u("较昨日 ",-1)),s("span",{class:T(o.value.incomeGrowth>=0?"up":"down")},n(o.value.incomeGrowth>=0?"+":"")+n(o.value.incomeGrowth)+"% ",3)])])]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:6},{default:t(()=>[l(_,{class:"data-card"},{default:t(()=>[s("div",ae,[e[6]||(e[6]=s("div",{class:"data-title"},"系统状态",-1)),l(a,{class:"data-icon",style:{color:"#F56C6C"}},{default:t(()=>[l(q)]),_:1})]),s("div",ne,[o.value.systemStatus==="normal"?(m(),y(k,{key:0,type:"success"},{default:t(()=>e[7]||(e[7]=[u("正常",-1)])),_:1,__:[7]})):o.value.systemStatus==="warning"?(m(),y(k,{key:1,type:"warning"},{default:t(()=>e[8]||(e[8]=[u("警告",-1)])),_:1,__:[8]})):(m(),y(k,{key:2,type:"danger"},{default:t(()=>e[9]||(e[9]=[u("异常",-1)])),_:1,__:[9]}))]),s("div",oe,[s("span",null,"CPU: "+n(o.value.cpuUsage)+"% | 内存: "+n(o.value.memoryUsage)+"%",1)])]),_:1})]),_:1})]),_:1}),l(_,{class:"quick-actions-card"},{header:t(()=>e[10]||(e[10]=[s("div",{class:"card-header"},[s("span",null,"快速操作")],-1)])),default:t(()=>[s("div",ie,[(m(!0),h(A,null,G(I.value,(c,w)=>(m(),y(C,{key:c.key,type:B(w),onClick:ye=>F(c)},{default:t(()=>[l(a,null,{default:t(()=>[(m(),y(K(c.icon)))]),_:2},1024),u(" "+n(c.title),1)]),_:2},1032,["type","onClick"]))),128))])]),_:1}),l(x,{gutter:30},{default:t(()=>[l(p,{xs:24,md:12},{default:t(()=>[l(_,null,{header:t(()=>[s("div",ce,[e[12]||(e[12]=s("span",null,"最近用户活动",-1)),l(C,{type:"text",onClick:E},{default:t(()=>e[11]||(e[11]=[u("查看全部",-1)])),_:1,__:[11]})])]),default:t(()=>[l(V,null,{default:t(()=>[(m(!0),h(A,null,G(M.value,(c,w)=>(m(),y(O,{key:w,timestamp:c.time,type:D(c.type)},{default:t(()=>[u(n(c.content)+" ",1),s("div",de,n(c.user),1)]),_:2},1032,["timestamp","type"]))),128))]),_:1})]),_:1})]),_:1}),l(p,{xs:24,md:12},{default:t(()=>[l(_,null,{header:t(()=>[s("div",re,[e[14]||(e[14]=s("span",null,"加密日志",-1)),l(C,{type:"text",onClick:N},{default:t(()=>e[13]||(e[13]=[u("查看全部",-1)])),_:1,__:[13]})])]),default:t(()=>[l(z,{data:b.value,style:{width:"100%"}},{default:t(()=>[l(S,{width:"80"},{default:t(({row:c})=>[l(k,{type:U(c.level),size:"small"},{default:t(()=>[u(n(c.level),1)]),_:2},1032,["type"])]),_:1}),l(S,{prop:"message",label:"日志内容"},{default:t(({row:c})=>[s("div",ue,n(c.message),1),s("div",me,n(c.time),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})])}}},fe=R(_e,[["__scopeId","data-v-788d824e"]]);export{fe as default};
