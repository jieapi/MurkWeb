import{r as f,a as k,l as E,c as w,o as m,d,e as l,w as o,b as u,i as U,z as F,U as R,f as L,E as c}from"./index-BEccWB-n.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"website-info"},T=["src"],j=["src"],z={class:"form-actions"},A={__name:"Settings",setup(D){const g=f(!1),p=f(),_=f(),v=f(),t=k({name:"murkphp加密系统",logo:"https://example.com/logo.png",favicon:"https://example.com/favicon.ico",description:"murkphp加密系统是一个专业的PHP代码加密保护平台，提供多种加密算法和安全防护措施，有效保护您的源代码安全。",keywords:"PHP加密,代码保护,murkphp,源码加密,代码混淆",copyright:"© 2024 murkphp加密系统 版权所有",icp:"粤ICP备12345678号"}),i=k({email:"support@murkphp.com",qq:"123456789",qqGroup:"987654321"}),b=k({analytics:`<script>
  // 百度统计代码示例
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?YOUR_SITE_ID";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
<\/script>`}),P={name:[{required:!0,message:"请输入网站名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入网站描述",trigger:"blur"}],keywords:[{required:!0,message:"请输入关键词",trigger:"blur"}],copyright:[{required:!0,message:"请输入版权信息",trigger:"blur"}]},B=s=>{const e=s.type==="image/jpeg"||s.type==="image/png",a=s.size/1024/1024<2;return e||c.error("Logo只能是JPG或PNG格式!"),a||c.error("Logo大小不能超过2MB!"),e&&a},G=s=>{const e=new FileReader;e.onload=a=>{t.logo=a.target.result},e.readAsDataURL(s.file)},Q=s=>{const e=s.type==="image/jpeg"||s.type==="image/png"||s.type==="image/x-icon",a=s.size/1024/1024<1;return e||c.error("图标只能是JPG、PNG或ICO格式!"),a||c.error("图标大小不能超过1MB!"),e&&a},I=s=>{const e=new FileReader;e.onload=a=>{t.favicon=a.target.result},e.readAsDataURL(s.file)},N=async()=>{p.value&&await p.value.validate(s=>{s&&(g.value=!0,setTimeout(()=>{g.value=!1,c.success("网站设置保存成功")},1e3))})},C=()=>{p.value&&p.value.resetFields(),_.value&&_.value.resetFields(),v.value&&v.value.resetFields()};return E(()=>{}),(s,e)=>{const a=u("el-input"),n=u("el-form-item"),h=u("el-icon"),q=u("el-upload"),y=u("el-form"),V=u("el-card"),x=u("el-button");return m(),w("div",S,[e[16]||(e[16]=d("h1",{class:"page-title"},"网站设置",-1)),l(V,null,{header:o(()=>e[9]||(e[9]=[d("div",{class:"card-header"},[d("span",null,"基本信息设置")],-1)])),default:o(()=>[l(y,{ref_key:"websiteFormRef",ref:p,model:t,rules:P,"label-width":"120px"},{default:o(()=>[l(n,{label:"网站名称",prop:"name"},{default:o(()=>[l(a,{modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=r=>t.name=r),placeholder:"请输入网站名称"},null,8,["modelValue"])]),_:1}),l(n,{label:"网站Logo"},{default:o(()=>[l(q,{class:"logo-uploader",action:"#","show-file-list":!1,"before-upload":B,"http-request":G},{default:o(()=>[t.logo?(m(),w("img",{key:0,src:t.logo,class:"logo"},null,8,T)):(m(),U(h,{key:1,class:"logo-uploader-icon"},{default:o(()=>[l(F(R))]),_:1}))]),_:1}),e[10]||(e[10]=d("div",{class:"form-tip"},"建议尺寸: 200px × 60px",-1))]),_:1,__:[10]}),l(n,{label:"网站图标"},{default:o(()=>[l(q,{class:"favicon-uploader",action:"#","show-file-list":!1,"before-upload":Q,"http-request":I},{default:o(()=>[t.favicon?(m(),w("img",{key:0,src:t.favicon,class:"favicon"},null,8,j)):(m(),U(h,{key:1,class:"favicon-uploader-icon"},{default:o(()=>[l(F(R))]),_:1}))]),_:1}),e[11]||(e[11]=d("div",{class:"form-tip"},"建议尺寸: 32px × 32px",-1))]),_:1,__:[11]}),l(n,{label:"网站描述",prop:"description"},{default:o(()=>[l(a,{modelValue:t.description,"onUpdate:modelValue":e[1]||(e[1]=r=>t.description=r),type:"textarea",rows:3,placeholder:"请输入网站描述"},null,8,["modelValue"])]),_:1}),l(n,{label:"关键词",prop:"keywords"},{default:o(()=>[l(a,{modelValue:t.keywords,"onUpdate:modelValue":e[2]||(e[2]=r=>t.keywords=r),placeholder:"请输入关键词，用逗号分隔"},null,8,["modelValue"])]),_:1}),l(n,{label:"版权信息",prop:"copyright"},{default:o(()=>[l(a,{modelValue:t.copyright,"onUpdate:modelValue":e[3]||(e[3]=r=>t.copyright=r),placeholder:"请输入版权信息"},null,8,["modelValue"])]),_:1}),l(n,{label:"备案号",prop:"icp"},{default:o(()=>[l(a,{modelValue:t.icp,"onUpdate:modelValue":e[4]||(e[4]=r=>t.icp=r),placeholder:"请输入备案号"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),l(V,{class:"mt-20"},{header:o(()=>e[12]||(e[12]=[d("div",{class:"card-header"},[d("span",null,"联系方式")],-1)])),default:o(()=>[l(y,{ref_key:"contactFormRef",ref:_,model:i,"label-width":"120px"},{default:o(()=>[l(n,{label:"联系邮箱"},{default:o(()=>[l(a,{modelValue:i.email,"onUpdate:modelValue":e[5]||(e[5]=r=>i.email=r),placeholder:"请输入联系邮箱"},null,8,["modelValue"])]),_:1}),l(n,{label:"QQ号"},{default:o(()=>[l(a,{modelValue:i.qq,"onUpdate:modelValue":e[6]||(e[6]=r=>i.qq=r),placeholder:"请输入QQ号"},null,8,["modelValue"])]),_:1}),l(n,{label:"QQ群"},{default:o(()=>[l(a,{modelValue:i.qqGroup,"onUpdate:modelValue":e[7]||(e[7]=r=>i.qqGroup=r),placeholder:"请输入QQ群号"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),l(V,{class:"mt-20"},{header:o(()=>e[13]||(e[13]=[d("div",{class:"card-header"},[d("span",null,"第三方服务配置")],-1)])),default:o(()=>[l(y,{ref_key:"serviceFormRef",ref:v,model:b,"label-width":"120px"},{default:o(()=>[l(n,{label:"统计代码"},{default:o(()=>[l(a,{modelValue:b.analytics,"onUpdate:modelValue":e[8]||(e[8]=r=>b.analytics=r),type:"textarea",rows:5,placeholder:"请输入统计代码，如百度统计、Google Analytics等"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),d("div",z,[l(x,{type:"primary",onClick:N,loading:g.value},{default:o(()=>e[14]||(e[14]=[L(" 保存设置 ",-1)])),_:1,__:[14]},8,["loading"]),l(x,{onClick:C},{default:o(()=>e[15]||(e[15]=[L(" 重置 ",-1)])),_:1,__:[15]})])])}}},O=M(A,[["__scopeId","data-v-55132dea"]]);export{O as default};
